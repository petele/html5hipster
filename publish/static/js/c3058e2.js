(function(a){function d(){a(b).parent("li").removeClass("open")}a.fn.dropdown=function(c){return this.each(function(){a(this).delegate(c||b,"click",function(){var b=a(this).parent("li"),c=b.hasClass("open");d();!c&&b.toggleClass("open");return!1})})};var b="a.menu, .dropdown-toggle";a(function(){a("html").bind("click",d);a("body").dropdown("[data-dropdown] a.menu, [data-dropdown] .dropdown-toggle")})})(window.jQuery||window.ender);
var hipster_data="[";hipster_data+='{"featurename":"Body Color", "featureid":"bodycolor", "thumbnail":"", "multiple": false, "options":[';hipster_data+='{"id": "body-orange", "name": "Orange", "default_item": true, "dark":"#E34F26", "light":"#EF652A", "inner1":"#EBEBEB", "inner2":"#ffffff"}]';hipster_data+="},";hipster_data+='{"featurename":"Hair", "featureid":"hair", "thumbnail":"file", "multiple": false, "options":[ ';hipster_data+='{"id": "hair-crewcut", "name": "Crew Cut", "file": "/assets/hair/001crew_front.svg","x": 25, "y": 35, "scale": 1},';
hipster_data+='{"id": "hair-messy", "name": "Messy", "file":"/assets/hair/003messy_front.svg", "x":25, "y": 35, "scale": 1},';hipster_data+='{"id": "hair-sidelong", "name": "Side Long", "file":"/assets/hair/034side_long_straight_front.svg", "x":25, "y": 35, "scale": 1},';hipster_data+='{"id": "hair-messylong", "name": "Messy Long", "file":"/assets/hair/042messylong_front.svg", "x":25, "y": 35, "scale": 1},';hipster_data+='{"id": "hair-faux", "name": "Faux-Hawk", "file":"x", "x":25, "y": 35, "scale": 1}]';
hipster_data+="},";hipster_data+='{"featurename":"Hair Color", "featureid":"haircolor", "thumbnail":"file", "multiple": false, "options": [';hipster_data+='{"id": "hairc-blonde", "name":"Blonde", "color":"#ff0000"},';hipster_data+='{"id": "hairc-black", "name":"Black", "color":"#00ff00"},';hipster_data+='{"id": "hairc-brown", "name":"Brown", "color":"#00ff00"},';hipster_data+='{"id": "hairc-red", "name":"Red", "color":"#00ff00"},';hipster_data+='{"id": "hairc-gray", "name":"Gray", "color":"#0000ff"}]';
hipster_data+="},";hipster_data+='{"featurename":"Shirts", "featureid":"shirts", "thumbnail":"file", "multiple": false, "options": [';hipster_data+='{"id": "shirt-redplaid", "name": "Red Plaid", "file": "file","x": 25, "y": 35, "scale": 1},';hipster_data+='{"id": "shirt-tshirt", "name": "T-Shirt", "file": "file","x": 25, "y": 35, "scale": 1},';hipster_data+='{"id": "shirt-tux", "name": "Tuxedo", "file": "file","x": 25, "y": 35, "scale": 1},';hipster_data+='{"id": "shirt-h5shirt", "name": "HTML5 T-Shirt", "file": "file","x": 25, "y": 35, "scale": 1},';
hipster_data+='{"id": "shirt-bikini", "name": "Bikini", "file": "file","x": 25, "y": 35, "scale": 1}]';hipster_data+="},";hipster_data+='{"featurename":"Pants", "featureid":"pants", "thumbnail":"file", "multiple": false, "options": [';hipster_data+='{"id": "pants-jeans", "name":"Jeans", "color":"#ff0000"},';hipster_data+='{"id": "pants-suitpants", "name":"Suit Pants", "color":"#ff0000"},';hipster_data+='{"id": "pants-shorts", "name":"Shorts", "color":"#0000ff"}]';hipster_data+="},";
hipster_data+='{"featurename":"Shoes", "featureid":"shoes", "thumbnail":"file", "multiple": false, "options": [';hipster_data+='{"id": "shoes-sneakers", "name":"Sneakers", "color":"#ff0000"},';hipster_data+='{"id": "shoes-hightops", "name":"High Tops", "color":"#00ff00"},';hipster_data+='{"id": "shoes-ballet", "name":"Ballet Flats", "color":"#0000ff"}]';hipster_data+="},";hipster_data+='{"featurename":"Glasses", "featureid":"glasses", "thumbnail":"file", "multiple": false, "options": [';
hipster_data+='{"id": "glasses-arc", "name":"Architect", "file": "/assets/glasses/001architect.svg", "x": 25, "y": 35, "scale": 1},';hipster_data+='{"id": "glasses-round", "name":"Rounded", "file": "/assets/glasses/017rounded.svg","x": 25, "y": 35, "scale": 1},';hipster_data+='{"id": "glasses-dark", "name":"Dark Glasses", "file": "/assets/glasses/008darkglasses.svg","x": 25, "y": 35, "scale": 1}]';hipster_data+="},";hipster_data+='{"featurename":"Facial Hair", "featureid":"beard", "thumbnail":"file", "multiple": false, "options": [';
hipster_data+='{"id": "facialh-stubble", "name":"Stubble", "file":"/assets/beard/008stubble.svg", "x":25, "y":25, "scale":1},';hipster_data+='{"id": "facialh-chinstrabstubble", "name":"Chin Strap Stubble", "file":"/assets/beard/011chinstrapstuble.svg", "x":25, "y":25, "scale":1},';hipster_data+='{"id": "facialh-medbeard", "name":"Medium Beard", "file":"/assets/beard/017mediumbeard.svg", "x":25, "y":25, "scale":1}]';hipster_data+="},";hipster_data+='{"featurename":"Accessories", "featureid":"accessory", "thumbnail":"file", "multiple": true, "options": [';
hipster_data+='{"id": "access-bluenbean", "name":"Blue Beanie", "file":"/assets/accessories/bluebeanie.svg", "x":125, "y":-160, "scale":0.8},';hipster_data+='{"id": "access-freckles", "name":"Freckles", "file":"/assets/accessories/001freckles_face.svg", "x":25, "y":25, "scale":1},';hipster_data+='{"id": "access-kiss", "name":"Lipstick Kiss", "file":"/assets/accessories/004kiss_face.svg", "x":25, "y":25, "scale":1},';hipster_data+='{"id": "access-noogle", "name":"Noogler Hat", "file":"/assets/accessories/021noogle_head.svg", "x":0, "y":0, "scale":40},';
hipster_data+='{"id": "access-goldear", "name":"Gold Earring", "file":"/assets/accessories/044gold_earring.svg", "x":25, "y":25, "scale":1},';hipster_data+='{"id": "access-headphones", "name":"Headphones", "file":"/assets/accessories/010headphones_head.svg", "x":25, "y":25, "scale":1}]';hipster_data+="}";hipster_data+="]";hipster_data=JSON.parse(hipster_data);
window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var a=[].slice.call(arguments);typeof console.log==="object"?log.apply.call(console.log,console,a):console.log.apply(console,a)}};
(function(a){function c(){}for(var d="assert,clear,count,debug,dir,dirxml,error,exception,firebug,group,groupCollapsed,groupEnd,info,log,memoryProfile,memoryProfileEnd,profile,profileEnd,table,time,timeEnd,timeStamp,trace,warn".split(","),b;b=d.pop();)a[b]=a[b]||c})(function(){try{return console.log(),window.console}catch(a){return window.console={}}}());
var Hipster=function(){function i(a){a===void 0&&(a=$("#item-selector:visible").length>=1?!1:!0);a?($("#item-selector").fadeIn("fast"),a=$("#item-selector .box.active"),a.length>=1&&($("#itemlist").fadeIn("fast"),$("#itm-"+$(a).data("featureid")).fadeIn("fast")),$("#hipster-container").css("margin-left",$(".item-collection").outerWidth()).css("margin-top","0")):(a=$("#item-selector").outerHeight()/2,$("#item-selector").fadeOut("fast"),$("#itemlist").fadeOut("fast"),$("#hipster-container").css("margin-left",
0).css("margin-top",a))}function j(){var a=$("#item-selector").outerHeight()/2;$("#hipster-container").css("margin-top",a);a=$(window).height();a=a-$(".topbar").height()-$("#item-selector").height();$("#itemlist, #hipster-container").height(a);$("#hipster").height(a)}function m(a){for(var c=a.length,f=$("<div id='items' />"),b=0;b<c;b++){var g=$("<button type='button' class='box' id='item-"+a[b].featureid+"'>"+a[b].featurename+"</button>");g.data("featureid",a[b].featureid);f.append(g);g=$("<div class='item-collection'></div>");
g.attr("id","itm-"+a[b].featureid);for(var h=a[b].options.length,d=0;d<h;d++){var e=$("<button type='button' class='box' id='item-"+a[b].options[d].id+"'>"+a[b].options[d].name+"</button>");a[b].options[d].default_item?(e.addClass("active"),e.data("default",!0)):e.data("default",!1);e.data("multiple",a[b].multiple);e.data("featureid",a[b].featureid);e.data("itemid",a[b].options[d].id);e.data("name",a[b].options[d].name);a[b].options[d].file&&(e.data("file",a[b].options[d].file),e.data("x",a[b].options[d].x),
e.data("y",a[b].options[d].y),e.data("scale",a[b].options[d].scale));g.append(e)}$("#itemlist").append(g)}f.find("button").click(function(){$("#item-selector .box.active").removeClass("active");$(this).addClass("active");$("#itemlist:visible").length==0&&($("#hipster-container").css("margin-left",$("#itemlist").outerWidth()),$("#itemlist").fadeIn("fast"));$(".item-collection:visible").hide();$("#itm-"+$(this).data("featureid")).fadeIn("fast")});$(".item-collection").find("button").click(function(){var a=
$(this);!a.data("multiple")&&!$(".item-collection:visible .active").is(a)&&($(".item-collection:visible .active").removeClass("active"),$("#hipster #"+a.data("featureid")).remove());a.hasClass("active")?(k(a.data("itemid")),a.removeClass("active")):(l(a.data("file"),a.data("itemid"),a.data("x"),a.data("y"),a.data("scale")),a.addClass("active"))});$("#item-selector").html(f)}function k(a){$("#hipster #itemid-"+a).remove()}function l(a,c,f,b,g){var a=$.ajax({url:a,dataType:"xml",cache:!0}),h={};h.id=
c;h.x=f;h.y=b;h.scale=g;a.item_info=h;a.done(function(a,b,c){a=$(a).find("svg");b=a.attr("width");b=parseInt(b)*c.item_info.scale;a.addClass("custom-svg").attr("id","itemid-"+c.item_info.id).attr("x",c.item_info.x).attr("y",c.item_info.y).attr("width",b);$("#hipster").append(a)})}$(document).ready(function(){j();m(hipster_data)});$(window).resize(function(){screenResize()});$("#imgDrag").bind("dragstart",function(){});$("#hipster-container").click(function(){i()});(function(a,c){var f=a.createElement(c),
b=a.getElementsByTagName(c)[0];f.async=1;f.src=("https:"==location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js?v=2";b.parentNode.insertBefore(f,b)})(document,"script");this.toggleControls=i;this.screenResize=j;this.testAdd=function(){l("/assets/accessories/bluebeanie.svg","bluebeanie",125,-160,0.8)};this.testRemove=function(){k("bluebeanie")};this.resetHipster=function(){$("#hipster svg").remove()};this.savePNG=function(){var a=$("#hipster"),c=$("#saveCanvas"),a=a[0],c=c[0];svg_xml=(new XMLSerializer).serializeToString(a);
c.getContext("2d");c=new Image;c.src="data:image/svg+xml;base64,"+btoa(svg_xml);console.log("Image Source",c.src)};return this}();
